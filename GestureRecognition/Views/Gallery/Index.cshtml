@model GestureRecognition.Models.GalleryViewModel
@using GestureRecognition.Models;

    <div class="container">
        <div class="row">
            <h1 class="text-center text-uppercase heading-text">Gesture Selfie</h1>

            @foreach (var photo in Model.Photos)
            {
                <div class="col-md-4 col-sm-6 col-xs-12 p-20">
                    <div class="col-xs-12 image-area" data-toggle="modal" data-target="#myModal">
                        <div class="row text-center">
                            <img src="@photo.ImagePath"/>
                        </div>
                        <p class="p-t-20"><strong>Date: </strong> @photo.Date.ToShortDateString()</p>
                        <p><strong>Location: </strong>@photo.Location</p>
                    </div>
                </div>
            }

        </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body text-center">
                    <img id="modal_image" src="" width="90%">
                </div>
                <div class="modal-footer">
                    <h4 class="text-left" id="modal_date"></h4>
                    <h4 class="text-left" id="modal_location"></h4>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script>
        $('.image-area').click(function () {
            var content = $(this).children('p');
            $('#modal_date').text('');
            $('#modal_date').append(content[0].innerHTML);
            $('#modal_location').text('');
            $('#modal_location').append(content[1].innerHTML);
            var image = $(this).children('.row').first().children('img').first().attr('src');
            $('#modal_image').attr('src', image);
        })
    </script>